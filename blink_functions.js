function clear_timeouts_intervals(){for(var b=1;b<99999;b++){window.clearInterval(b)}let id=window.setTimeout(function(){},0);while(id){window.clearTimeout(id);id--}id=window.setInterval(function(){},0);while(id){window.clearInterval(id);id--}}function check_if_duplicated(j){var h=j.slice().sort();var k=[];for(var l=0;l<h.length-1;l++){if(h[l+1]==h[l]){k.push(h[l])}}return k}function start_timer(g){var e=[];if(f.timers==0){f.timers=g;e.push(g)}else{if(f.timers.indexOf(",")>-1){e=f.timers.split(",")}else{e[0]=f.timers}if(e.indexOf(g)===-1){e.push(g);f.timers=e.join(",")}}}function home_memories(b){items=[700,function(){$("#oc").css("opacity","1");$("#owrap").show().removeClass().addClass("fct");$("#owrap").animate({opacity:1},0);$("#oc").html(b)},300,function(){$("#oc").show()},200,function(){$("#owrap").animate({opacity:0},1300)},1300,function(){$("#owrap").hide()}];timer(items)}function scene_change(b){if(f.back=="start"||!exist(scene_change[f.node])){scene_change[f.node]=1;items=[700,function(){$("#oc").css("opacity","1");$("#owrap").show().removeClass().addClass("fct");$("#owrap").animate({opacity:1},0);$("#oc").html(b)},300,function(){$("#oc").show()},200,function(){$("#owrap").animate({opacity:0},1300)},1300,function(){$("#owrap").hide()}];timer(items);return""}}function location_message(e){var g=[500,function(){$("#oc").html(e);$("#owrap").show().removeClass().addClass("std")},1000,function(){$("#owrap").animate({opacity:0},2000)},3000,function(){$("#owrap").hide()},10];timer(g)}function talk(s){var o;var q,t,m;var n="";var p="";var r=0;if(f.talk){d="";m=s[f.talk].d;if(typeof m=="function"){m()}else{n=m}f[f.talk]="x"}for(o in s){t=o;q=s[o].l;m=s[o].d;if(exist(s[o].v)){r=1}if(f[t]=="x"){r=0}if(f[t]==1){r=1}if(!talk){r=0}if(f.topic){r=0;if(f.topic==s[o].topic){r=1}}if(s[o].d=="{jump}"&&f[t]!="x"&&r){p+="<li><a onclick=\"f['"+t+"']='x'; f.talk='"+t+"'; debug(); process('"+t+"'); return false;\">"+q+"</a></li>"}else{if(r){p+="<li><a onclick=\"f.talk='"+t+"';  debug(); process('"+f.node+"'); return false;\">"+q+"</a></li>";r=0}}}d+=n;d+="<div class='convo'>"+p+"</div>";debug()}function talk_item(k,l,h){var j="";if(f.clear_d){d="";f.clear_d=0}if(f[l]){d=h+d}else{d+='<a onclick="f.clear_d=1; f.'+l+"=1; process('"+f.node+"'); return false;\">"+k+"</a>"}}function custom_back(b){if(back){return"<p class='back'>{Return|"+b+"}</p>"}else{return""}}function getParameterByName(h,j){if(!j){j=window.location.href}h=h.replace(/[\[\]]/g,"\\$&");var k=new RegExp("[?&]"+h+"(=([^&#]*)|&|#|$)"),l=k.exec(j);if(!l){return null}if(!l[2]){return""}return decodeURIComponent(l[2].replace(/\+/g," "))}function reset_inventory(){for(c in inventoryDescArray){if(inventoryDescArray[c]["type"]=="object"){i[c]=0}}}function bk(e){var g="<p class='back'>{Return|"+e+"}</p>";root=1;return g}function populate_with_zeros(j,h){for(var g in h){j[h[g]]=0}return j}function copy_querystring_to_world_state(l,k){var l="changed "+l;var h=l.split(":");var j=h[k].substring(0,h[k].length-1)}function forEach(j,g){for(var h=0;h<j.length;h++){g(j[h])}}function isNumber(b){return typeof b==="number"&&isFinite(b)}function timer(b){if(isNumber(b[0])){setTimeout(function(){timer(b)},b[0]);b.shift()}else{if(b.length>=1){b[0]();b.shift();timer(b)}}}function initNode(b){f[b]=b;nodes(b)}function loadjscssfile(h,g){if(g=="js"){var j=document.createElement("script");j.setAttribute("type","text/javascript");j.setAttribute("src",h)}else{if(g=="css"){var j=document.createElement("link");j.setAttribute("rel","stylesheet");j.setAttribute("type","text/css");j.setAttribute("href",h)}}if(typeof j!="undefined"){document.getElementsByTagName("head")[0].appendChild(j)}};